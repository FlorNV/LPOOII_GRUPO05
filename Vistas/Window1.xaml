<Window x:Class="Vistas.Window1"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:VISTAS="clr-namespace:Vistas"
        Title="Window1" Height="300" Width="300">
    <Window.Resources>
        <XmlDataProvider x:Key="MisEstados" Source="Estados.xml" XPath="Estados"></XmlDataProvider>
        <VISTAS:ConversionStringToBrush x:Key="MiConversor"></VISTAS:ConversionStringToBrush>
    </Window.Resources>
    <Grid>
        <ListBox ItemsSource="{Binding Source={StaticResource ResourceKey=MisEstados}, XPath=tipo/@nombre}"
            Height="100" HorizontalAlignment="Left" Margin="10,28,0,0" Name="listBox1" VerticalAlignment="Top" Width="120" />
        <Rectangle 
            Fill="{Binding ElementName=listBox1, Path=SelectedValue, Converter={StaticResource MiConversor}}"
            Height="100" HorizontalAlignment="Left" Margin="144,28,0,0" Name="rectangle1" Stroke="Black" VerticalAlignment="Top" Width="122" />
        <TextBlock 
            Height="33" 
            HorizontalAlignment="Left" 
            Margin="12,146,0,0" 
            Name="textBlock1" 
            Text="{Binding ElementName=listBox1, Path=SelectedValue}" 
            VerticalAlignment="Top" 
            Width="254" 
            FontSize="20" />
    </Grid>
</Window>
